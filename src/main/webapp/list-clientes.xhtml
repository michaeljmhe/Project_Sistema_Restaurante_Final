<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"> 
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:p="http://primefaces.org/ui"> 

     <h:head>  <title>Sistema Restaurante</title>
      
       <h:outputStylesheet library="css" name="table-style.css"  />
       <f:event listener="#{plantillaController.verificarSesion()}" type="preRenderView"></f:event>
       
 	</h:head>
 	
<body> 

<center><h1 id="signInTitle" class="first">RESTAURANTE LAS ORQUIDEAS </h1></center>

<h:form>

<h:dataTable var="_cliente" value="#{clienteB.clientes}"
 	rendered="#{not empty clienteB.clientes}"
    styleClass="people"
    cellspacing="0" 
    cellpadding="0" 
    border="0"
    rowClasses="odd,even"
    columnClasses="codigo,nombre,apellido,direcion,ciudad,telefono,email,fecha,mesa,acciones">
    
   	<f:facet name="header">
	<h:panelGroup style = "display:block; text-align:center">
	<h:outputText value="LISTA DE CLIENTES" />
	</h:panelGroup>
    </f:facet>
    
    <h:column>
        <f:facet name="header">Cedula</f:facet>
        #{_cliente.cedula}
    </h:column>
    <h:column>
        <f:facet name="header">Nombre</f:facet>
        #{_cliente.nombre}
    </h:column>
    <h:column>
        <f:facet name="header">Apellido</f:facet>
        #{_cliente.apellido}
    </h:column>
    <h:column>
        <f:facet name="header">Dirección</f:facet>
        #{_cliente.direccion}
    </h:column>
    <h:column>
        <f:facet name="header">Ciudad</f:facet>
        #{_cliente.ciudad}
    </h:column>
    <h:column>
        <f:facet name="header">Telefono</f:facet>
        #{_cliente.telefono}
    </h:column>
        <h:column>
        <f:facet name="header">E-mail</f:facet>
        #{_cliente.emil}
    </h:column>
        <h:column>
        <f:facet name="header">Fecha Nacimiento</f:facet>
        #{_cliente.fechaNacimeinto}
    </h:column>
        <h:column>
        <f:facet name="header">Mesa</f:facet>
        #{_cliente.mesId}
    </h:column>
    
    <h:column>
        <f:facet name="header">Acciones</f:facet>
        <p:commandButton value="Borrar" onclick="PF('dlg').show();" style="margin-right:20px;" immediate="true" styleClass="button-width-buttons" />
        <p:commandButton action="#{clienteB.editar(_cliente)}" value="Editar" style="margin-right:20px;" immediate="true" styleClass="button-width-buttons" />
        
        <p:dialog id="dlg2" header="Confirmar Eliminar" showEffect="explode" hideEffect="explode"
    			widgetVar="dlg" modal="true" resizable="false" minWidth="200" >
    	<h:outputText value="¿Desea eliminar cliente?" />
    	<p:commandButton value="No" onclick="dlg2.hide();" />
    	<p:commandButton value = "Si" action = "#{clienteB.borrar(_cliente.cedula)}" />
   		 </p:dialog> 
        
    </h:column>
    
    <f:facet name="footer">
    <h:panelGroup style = "display:block; text-align:center">
    	<h:commandButton action="create-cliente" value="Nuevo Cliente" style="margin-right:20px;" immediate="true" styleClass="button-width" />
    	<h:commandButton action="list-clientes" value="Recargar datos" style="margin-right:20px;"  immediate="true" styleClass="button-width" />
    	<h:commandButton action="principal-administrador" value="Pricipal" immediate="true" styleClass="button-width"/>
    </h:panelGroup>
    </f:facet>
</h:dataTable>
</h:form>

</body> 
</html>
